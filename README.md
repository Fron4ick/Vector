# Интерактивный 3D элемент на Three.js

Интерактивная 3D сцена с кубами и монетой, расположенными на орбитах вокруг центра.

## Структура проекта

```
lha/
├── index.html          # Основной HTML файл
├── main.js             # Главный JavaScript файл с логикой
├── models/             # Папка с 3D моделями
│   ├── coin.glb        # Модель монеты
│   ├── cube.001.glb    # Модели кубов
│   ├── cube.002.glb
│   └── ...
└── README.md           # Этот файл
```

## Требования

- Веб-сервер для загрузки моделей (CORS)
- Современный браузер с поддержкой WebGL
- 15 3D моделей в формате GLB:
  - `coin.glb` - монета (лежит в плоскости YZ на нулевых координатах)
  - `cube.001.glb` до `cube.014.glb` - 14 кубов

## Установка и запуск

1. Убедитесь, что все модели находятся в папке `models/`
2. Запустите локальный веб-сервер:

```bash
# С помощью Python
python -m http.server 8000

# Или с помощью Node.js (http-server)
npx http-server

# Или с помощью PHP
php -S localhost:8000
```

3. Откройте браузер и перейдите по адресу `http://localhost:8000`

## Функциональность

### Позиционирование кубов

Кубы располагаются на орбитах вокруг центра сцены:
- Орбиты рассчитываются по треугольным числам
- Каждая орбита содержит определенное количество кубов
- Кубы на активной орбите находятся ближе к камере (x = 1.8)
- Кубы на соседних орбитах отдалены (x = 0.6, -0.6, -1.8)

### Интерактивность

- **Клик на куб**: Активирует куб, который перемещается на сцену
  - Активный куб увеличивается и перемещается вперед
  - Предыдущий активный куб уменьшается и возвращается на орбиту
  - Орбиты вращаются для плавного перехода

- **Клик на монету**: Переключает состояние монеты
  - Монета вращается и перемещается вперед/назад
  - Если есть активный куб, он деактивируется

### Анимации

Все анимации выполняются в три фазы:
1. **Фаза 1 (5 тиков)**: Уменьшение/увеличение масштаба и движение к орбите
2. **Фаза 2 (10 тиков)**: Вращение орбит для перераспределения кубов
3. **Фаза 3 (5 тиков)**: Финальное перемещение на сцену (для входящих кубов)

## Технические детали

### Классы

- **Position**: Управляет позициями кубов на орбитах
- **Cube**: Управляет отдельным кубом и его анимациями
- **Coin**: Управляет монетой
- **AnimationManager**: Управляет плавными анимациями
- **App**: Главный класс приложения

### Алгоритм позиционирования

Позиции рассчитываются на основе:
- Треугольных чисел для определения орбит
- Количества кубов на орбите
- Активного/пассивного статуса (влияет на углы)

## Отладка

Откройте консоль браузера (F12) для просмотра логов:
- Информация о загрузке моделей
- Ошибки загрузки
- Состояние анимаций

## Примечания

- Если модели не загружаются, создаются простые геометрические формы вместо них
- Все анимации используют плавные easing функции
- Камера управляется через OrbitControls (вращение мышью)
